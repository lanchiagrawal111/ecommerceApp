(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{78:function(t,e,c){},91:function(t,e,c){},93:function(t,e,c){},95:function(t,e,c){},98:function(t,e,c){"use strict";c.r(e);var n=c(0),r=c.n(n),o=c(8),a=c.n(o),i=(c(78),c(16)),s=(c(90),c(91),c(23)),d=c(37),l=c(9),u=c(38),j="ADD_A_PRODUCT",p="ADD_PRODUCT_IN_CART",b="DELETE_PRODUCT",h="DELETE_CART_PRODUCT",m="EDIT_PRODUCT_STARTED",O=" EDIT_PRODUCT_SUCCESSFUL",f="FETCH_ALL_PRODUCTS",g="FETCH_CART_PRODUCTS",x={products:[],cartProducts:[]},y=Object(d.b)({appReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,e=arguments.length>1?arguments[1]:void 0,c=e.type,n=e.payload;switch(c){case j:var r=[].concat(Object(u.a)(t.products),[n]);return Object(l.a)(Object(l.a)({},t),{},{products:r});case p:var o=[].concat(Object(u.a)(t.cartProducts),[n]);return Object(l.a)(Object(l.a)({},t),{},{cartProducts:o});case f:return Object(l.a)(Object(l.a)({},t),{},{products:n});case g:return Object(l.a)(Object(l.a)({},t),{},{cartProducts:n});case b:var a=t.products.filter((function(t){return n!==t.id}));return console.log("delete prduc",t.products,a),Object(l.a)(Object(l.a)({},t),{},{products:a});case h:var i=t.cartProducts.filter((function(t){return n!==t.id}));return console.log("delete cart product",t.cartProducts,i),Object(l.a)(Object(l.a)({},t),{},{cartProducts:i});case m:var s=t.products.findIndex((function(t){return n.id===t.id})),d=Object(u.a)(t.products);return d[s]=n,console.log(t.products[s]),Object(l.a)(Object(l.a)({},t),{},{products:d});case O:n.name,n.description,n.price,n.rating;var y=t.products.findIndex((function(t){return n.id===t.id})),v=Object(u.a)(t.products);return v[y]=n,Object(l.a)(Object(l.a)({},t),{},{products:v});default:return t}}}),v=c(56),C=Object(d.c)(y,Object(d.a)(v.a)),P=c(22),w=c(135),S=c(136),T=c(127),A=c(41),E=function(t){var e=Object(n.useState)(t),c=Object(P.a)(e,2),r=c[0],o=c[1];return[r,function(t){o(Object(l.a)(Object(l.a)({},r),{},Object(A.a)({},t.target.name,t.target.value)))},function(){o(Object(l.a)({},t))}]};c(93);function D(){return function(t){fetch("http://localhost:8000/products/").then((function(t){return t.json()})).then((function(e){console.log(e),t({type:f,payload:e})}))}}function I(){return function(t){fetch("http://localhost:8000/cartProducts/").then((function(t){return t.json()})).then((function(e){console.log(e),t({type:g,payload:e})}))}}function N(t){return function(e){fetch("http://localhost:8000/products/"+t,{method:"DELETE"}).then((function(t){return t.json()})).then((function(c){console.log("dATA",c),e(function(t){return function(e){fetch("http://localhost:8000/cartProducts/"+t,{method:"DELETE"}).then((function(t){return t.json()})).then((function(c){console.log("dATA",c),e({type:h,payload:t})}))}}(t)),e({type:b,payload:t})}))}}function R(t){var e=[];for(var c in t){var n=encodeURIComponent(c),r=encodeURIComponent(t[c]);e.push(n+"="+r)}return e.join("&")}var B=c(2),_=Object(T.a)({textInput:{width:500,margin:10},centerButton:{display:"flex",justifyContent:"center",alignItems:"center"},form:{flexDirection:"column",justifyContent:"center",alignItems:"center",display:"flex"},addButton:{width:300,justifyContent:"center",alignItems:"center",display:"flex"},labelStyle:{alignSelf:"flex-start",fontWeight:"bold"}}),k=function(){var t=E({name:"",description:"",price:"",rating:"",image:""}),e=Object(P.a)(t,3),c=e[0],r=e[1],o=e[2],a=Object(n.useState)({name:!1,description:!1,price:!1,rating:!1,image:!1}),s=Object(P.a)(a,2),d=s[0],l=(s[1],_());return Object(B.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(B.jsxs)("div",{style:{justifyContent:"flex-start",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[Object(B.jsx)("div",{className:"heading",children:Object(B.jsx)("h2",{children:"Add a product"})}),Object(B.jsxs)("form",{className:l.form,onSubmit:function(t){t.preventDefault();try{c.name&&c.description&&c.price&&c.rating&&(C.dispatch((e=c,function(t){var c=e.name,n=e.description,r=e.price,o=e.rating;fetch("http://localhost:8000/products/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:R({name:c,description:n,price:r,rating:o})}).then((function(t){return t.json()})).then((function(c){console.log("dATA",c),t({type:j,payload:e})}))})),i.toast.success("Product Added Successfully"),o())}catch(n){i.toast.error("Adding Product Failed"+n.message,{autoClose:!1})}var e},children:[Object(B.jsx)("div",{className:l.labelStyle,children:Object(B.jsx)("label",{children:"Name"})}),Object(B.jsx)(w.a,{error:d.name,id:"outlined-basic",label:"Name",variant:"outlined",className:l.textInput,name:"name",value:c.name,onChange:r}),Object(B.jsx)("div",{className:l.labelStyle,children:Object(B.jsx)("label",{children:"Description"})}),Object(B.jsx)(w.a,{error:d.description,id:"outlined-basic",label:"Description",variant:"outlined",className:l.textInput,name:"description",value:c.description,onChange:r}),Object(B.jsx)("div",{className:l.labelStyle,children:Object(B.jsx)("label",{children:"Price"})}),Object(B.jsx)(w.a,{error:d.price,id:"outlined-basic",label:"Price",variant:"outlined",className:l.textInput,name:"price",value:c.price,onChange:r}),Object(B.jsx)("div",{className:l.labelStyle,children:Object(B.jsx)("label",{children:"Rating"})}),Object(B.jsx)(w.a,{error:d.rating,id:"outlined-basic",label:"Rating",variant:"outlined",className:l.textInput,name:"rating",value:c.rating,onChange:r}),Object(B.jsx)("div",{className:l.centerButton,children:Object(B.jsx)(S.a,{type:"submit",variant:"contained",color:"primary",className:l.addButton,children:"Add"})})]})]})})},U=c(131),F=c(134),L=c(132),z=c(133),G=Object(T.a)({rootContainer:{margin:10},root:{width:"50%",boxShadow:5,minWidth:275,margin:"auto"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},cardActions:{margin:"auto"},actionIcons:{height:25,width:25,marginRight:15,cursor:"pointer"}}),W=Object(s.b)((function(t){var e=t.appReducer;return console.log("mapstatetoprops products",e.products),{products:e.products}}))((function(t){var e=t.products;console.log("AddEdproducts",e);var c=E({name:"",description:"",price:"",rating:""}),r=Object(P.a)(c,3),o=(r[0],r[1],r[2],Object(n.useState)(null)),a=Object(P.a)(o,2),s=a[0],d=a[1],u=Object(n.useState)(e),j=Object(P.a)(u,2),b=(j[0],j[1]),h=G();Object(n.useEffect)((function(){C.dispatch(D())}),[]);var f=function(t){console.log("Adding product to cart----",t);try{C.dispatch((e=t,function(t){var c=e.name,n=e.description,r=e.price,o=e.rating,a=e.id;fetch("http://localhost:8000/cartProducts/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:R({name:c,description:n,price:r,rating:o,id:a})}).then((function(t){return t.json()})).then((function(c){console.log("dATA",c),t({type:p,payload:e})}))})),i.toast.success("Added To Cart Successfully!")}catch(c){i.toast.error("Added to Cart Failed"+c.message,{autoClose:!1})}var e},g=function(t){console.log(t),C.dispatch(function(t){return console.log("FIRST"),{type:m,payload:Object(l.a)(Object(l.a)({},t),{},{edit:!0})}}(t)),d({name:t.name,description:t.description,price:t.price,rating:t.rating,id:t.id})},x=function(t){try{C.dispatch((e=t,function(t){var c=e.name,n=e.description,r=e.price,o=e.rating,a="http://localhost:8000/products/"+e.id;fetch(a,{method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:R({name:c,description:n,price:r,rating:o})}).then((function(t){return t.json()})).then((function(e){console.log("data in edit------",e),t({type:O,payload:e})}))})),i.toast.success("Product Updated Successfully")}catch(c){i.toast.error("Update Failed"+c.message,{autoClose:!1})}var e},y=function(t,e){var c=Object(l.a)({},s);c[t]=e.target.value,d(c)};return Object(B.jsxs)("div",{children:[Object(B.jsx)("h3",{children:"Product List"}),Object(B.jsx)(S.a,{id:"sortButton",style:{marginLeft:1e3},onClick:function(){return function(t){document.getElementById("sortButton").style.backgroundColor="Gray",document.getElementById("crossButton").style.backgroundColor="whitesmoke",t.sort((function(t,e){return t=t.price.replace(/\,/g,""),e=e.price.replace(/\,/g,""),parseFloat(t)-parseFloat(e)})),b(t)}(e)},children:"Sort By Price"}),Object(B.jsx)(S.a,{id:"crossButton",children:Object(B.jsx)("img",{style:{marginRight:0},className:h.actionIcons,alt:"cross",src:"https://t4.ftcdn.net/jpg/02/38/87/83/240_F_238878356_MEtXA2GdF94LwiD4X9PmKQbe78Vvn1j0.jpg",onClick:function(){return document.getElementById("sortButton").style.backgroundColor="whitesmoke",document.getElementById("crossButton").style.backgroundColor="Gray",b(e),void C.dispatch(D())}})}),e.map((function(t,e){return console.log("product in map",t),Object(B.jsx)("div",{className:h.rootContainer,children:Object(B.jsx)(U.a,{className:h.root,children:Object(B.jsxs)(L.a,{children:[t.edit?Object(B.jsx)("input",{style:{whiteSpace:"pre-line"},type:"text",onChange:function(t){return y("name",t)},value:s.name}):Object(B.jsx)(z.a,{variant:"h5",component:"h2",style:{whiteSpace:"pre-line"},children:t.name}),Object(B.jsx)("br",{}),t.edit?Object(B.jsx)("textarea",{style:{whiteSpace:"pre-line"},rows:5,cols:80,onChange:function(t){return y("description",t)},value:s.description}):Object(B.jsx)(z.a,{className:h.title,color:"textSecondary",gutterBottom:!0,children:t.description}),Object(B.jsx)("br",{}),t.edit?Object(B.jsx)("input",{style:{whiteSpace:"pre-line"},type:"text",onChange:function(t){return y("price",t)},value:s.price}):Object(B.jsx)(z.a,{variant:"body2",component:"p",children:"Price - ".concat(t.price)}),Object(B.jsx)("br",{}),t.edit?Object(B.jsx)("input",{style:{whiteSpace:"pre-line"},type:"number",onChange:function(t){return y("rating",t)},value:s.rating}):Object(B.jsx)(z.a,{variant:"body2",component:"p",children:"Rating - ".concat(t.rating)}),Object(B.jsxs)(F.a,{className:h.cardActions,style:{justifyContent:"space-between"},children:[Object(B.jsx)(S.a,{size:"small",onClick:function(){return f(t)},children:"Add to cart"}),Object(B.jsxs)("div",{className:"cart-item-actions",children:[t.edit?Object(B.jsx)(S.a,{size:"small",onClick:function(){return x(s)},children:"Save"}):Object(B.jsx)("img",{className:h.actionIcons,alt:"edit",src:"https://image.flaticon.com/icons/png/512/1828/1828911.png",onClick:function(){return g(t)}}),Object(B.jsx)("img",{className:h.actionIcons,alt:"delete",src:"https://image.flaticon.com/icons/png/512/3096/3096673.png",onClick:function(){return function(t){try{if(!window.confirm("Are you sure you want to delete this Product?"))return;C.dispatch(N(t)),i.toast.success("Product Deleted Successfully")}catch(e){i.toast.error("Delete Failed"+e.message,{autoClose:!1})}}(t.id)}})]})]})]})})},e)}))]})})),H=Object(T.a)({rootContainer:{margin:10},root:{width:"50%",boxShadow:5,minWidth:275,margin:"auto"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},cardActions:{margin:"auto"}}),J=Object(s.b)((function(t){return{cartProducts:t.appReducer.cartProducts}}))((function(t){var e=t.cartProducts;Object(n.useEffect)((function(){C.dispatch(I())}),[]);var c=H();return Object(B.jsxs)("div",{children:[Object(B.jsx)("h3",{children:"Cart Items"}),e.map((function(t,e){return Object(B.jsx)("div",{className:c.rootContainer,children:Object(B.jsx)(U.a,{className:c.root,children:Object(B.jsxs)(L.a,{children:[Object(B.jsx)(z.a,{variant:"h5",component:"h2",children:t.name}),Object(B.jsx)(z.a,{variant:"body2",component:"p",children:"Price - ".concat(t.price)})]})})},e)}))]})})),M=c(29),X=c(13),K=(c(95),{cartCount:{background:"yellow",borderRadius:"50%",padding:"3px 3px",position:"absolute",right:0,top:-2}});var Q=Object(s.b)((function(t){var e=t.appReducer;return console.log("============================",e.cartProducts),{cartProducts:e.cartProducts}}))((function(t){var e=t.cartProducts;return Object(n.useEffect)((function(){C.dispatch(I())}),[]),Object(B.jsxs)("div",{style:{display:"flex",flexDirection:"row",backgroundColor:"gray"},children:[Object(B.jsx)("div",{style:{width:"60%"},children:Object(B.jsxs)("ul",{id:"navLeft",children:[Object(B.jsx)("li",{children:Object(B.jsx)(M.b,{to:"/",children:"E-commerce"})}),Object(B.jsx)("li",{children:Object(B.jsx)(M.b,{to:"/products",children:"Products"})}),Object(B.jsx)("li",{children:Object(B.jsx)(M.b,{to:"/add-product",children:"Add Product"})})]})}),Object(B.jsx)("div",{style:{width:"40%"},children:Object(B.jsxs)("ul",{id:"navRight",children:[Object(B.jsx)("li",{children:Object(B.jsx)(M.b,{to:"/cart",children:"Cart"})}),Object(B.jsx)("span",{style:K.cartCount,children:e.length})]})})]})}));function V(){return Object(B.jsx)("div",{children:Object(B.jsx)("img",{src:"https://www.x-cart.com/wp-content/uploads/2017/05/2-768x256.png",style:{width:"100%"}})})}var q=function(){return Object(B.jsx)(s.a,{store:C,children:Object(B.jsx)(M.a,{children:Object(B.jsxs)("div",{className:"App",children:[Object(B.jsx)(Q,{}),Object(B.jsx)(X.a,{exact:!0,path:"/",children:Object(B.jsx)(V,{})}),Object(B.jsx)(X.a,{path:"/products",children:Object(B.jsx)(W,{})}),Object(B.jsx)(X.a,{path:"/add-product",children:Object(B.jsx)(k,{})}),Object(B.jsx)(X.a,{path:"/cart",children:Object(B.jsx)(J,{})}),Object(B.jsx)(i.ToastContainer,{autoClose:5e3})]})})})};a.a.render(Object(B.jsx)(r.a.StrictMode,{children:Object(B.jsx)(q,{})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.5ba0b09c.chunk.js.map